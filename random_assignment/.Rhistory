geom_hline(aes(yintercept = mean.lower.ci), lty = 3) +
geom_hline(aes(yintercept = mean.upper.ci), lty = 3) +
facet_wrap(~PIMODE, ncol = 2) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw()
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 10, height = 7, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("red", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("red", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(fill = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("black", "gray90"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(fill = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_fill_manual(values = c("black", "gray90"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(fill = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_fill_manual(values = c("black", "gray90"), "") +
scale_color_manual(values = c("black", "gray90"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(fill = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_fill_manual(values = c("black", "gray90"), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("black", "gray90"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("black", "gray70"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(17, 6), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(17, 6), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(17, 25), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(17, 25), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(17, 25), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(19, 4), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(19, 4), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 7, height = 5, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.7), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(19, 4), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.7), size = 0.25, fill = "white") +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(19, 4), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(shape = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.7), size = 0.25, fill = "white") +
#geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_shape_manual(values = c(19, 4), "") +
scale_color_manual(values = c("black", "black"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(fill = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25, shape = 21) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("black", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("red", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.5), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("red", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_effect_experiment.pdf", type = "pdf", width = 8, height = 6, dpi = 300)
ggplot(mode.eff.exp, aes(x = col, y = mean)) +
geom_pointrange(aes(color = group, ymin = lower.ci, ymax = upper.ci),
position = position_dodge(0.7), size = 0.25) +
geom_hline(aes(yintercept = mean.mean, color = group)) +
#geom_hline(aes(yintercept = mean.lower.ci, color = group), lty = 3) +
#geom_hline(aes(yintercept = mean.upper.ci, color = group), lty = 3) +
scale_color_manual(values = c("red", "blue"), "") +
facet_wrap(~mode.type, ncol = 3) +
ylab("Mean (95% CI)") + xlab("Variable") +
coord_flip() +
theme_bw() + theme(legend.position = c(0.85, 0.4))
dev.off()
# Different mode
data$different.mode <- ifelse(data$YIMODE == data$PIMODE, 0,
ifelse(data$PIMODE == -99, NA, 1))
# Age
# Continuous (with 0 being 18 years old) and age squared:
data$y_age <- ifelse(data$YQ1 > 0, data$YQ1 - 18, NA)
# Gender (male)
data$y_male <- 2 - data$YQ42
# Is parent mother or father?
data$p_is_father <- ifelse(data$time == "Father", 1, 0)
# Lives with parents
data$y_live_with_p <- 0
data$y_live_with_p[data$YQ28a_2 == 1 & data$YQ28a_3 == 1] <- 1
# Is a student as main activity
data$y_student_main <- ifelse(data$YQ14b == 4, 1,
ifelse(data$YQ14b < 0, NA, 0))
# Is unemployed (as main activity)
data$y_unemp <- ifelse(data$YQ14b == 3, 1,
ifelse(data$YQ14b < 0, NA, 0))
# Education
# Get the highest degree out of completed and targeted educational level
data$y_edu <- data$YQ18_II
data$y_edu[data$YQ18_I > data$YQ18_II] <- data$YQ18_I[data$YQ18_I > data$YQ18_II]
data[, c("YQ18_I", "YQ18_II", "y_edu")] <- data[, c("YQ18_I", "YQ18_II", "y_edu")] %>%
mutate_each(funs(ifelse(. < 0, NA, .)))
# Parent age (leave out for now)
data$p_age <- ifelse(data$PQ24 > 0, 2016 - data$PQ24, NA)
# Parent education (leave out for now)
data$p_edu <- ifelse(data$PQ26 < 0, NA, data$PQ26)
#------------------------------------------------------------------#
# ASSESS THE EFFECT OF THE "different.mode" DUMMY ON ALL VARIABLES #
#------------------------------------------------------------------#
rm(list = ls()[grep("res", ls())])
res.st.1a <- data.frame(NULL)
res.st.1b <- data.frame(NULL)
res.st.2a <- data.frame(NULL)
res.st.2b <- data.frame(NULL)
for (v in c(wv.dif, wa.dif)){
# Only AT, CH, CZ, DE, HU, IT, no controls, country dummies
mod <- lm(as.formula(paste0(v, " ~ different.mode + factor(cname)")),
data = subset(data, cname == "AT" | cname == "CH" | cname == "CZ" |
cname == "DE" | cname == "HU" | cname == "IT"))
res.st.1a <- rbind(res.st.1a, cbind(row.names(summary(mod)$coefficients),
round(summary(mod)$coefficients[, c(1, 2, 4)], 3),
v))
rm(mod)
# Only AT, CH, CZ, DE, HU, IT, with controls, country dummies
mod <- lm(as.formula(paste0(v, " ~ different.mode + y_age + y_male*p_is_father +
factor(y_edu) +
y_live_with_p + y_student_main + y_unemp +
factor(cname)")),
data = subset(data, cname == "AT" | cname == "CH" | cname == "CZ" |
cname == "DE" | cname == "HU" | cname == "IT"))
res.st.1b <- rbind(res.st.1b, cbind(row.names(summary(mod)$coefficients),
round(summary(mod)$coefficients[, c(1, 2, 4)], 3),
v))
rm(mod)
# All countries, no country dummies, no controls + save residuals
mod <- lm(as.formula(paste0(v, " ~ different.mode")),
data = data)
res.st.2a <- rbind(res.st.2a, cbind(row.names(summary(mod)$coefficients),
round(summary(mod)$coefficients[, c(1, 2, 4)], 3),
v))
data[which(!is.na(data[, v])), paste0(v, "_r")] <- mod$residuals
rm(mod)
# All countries, no country dummies, with controls
mod <- lm(as.formula(paste0(v, " ~ different.mode + y_age + y_male*p_is_father +
factor(y_edu) +
y_live_with_p + y_student_main + y_unemp")),
data = data)
res.st.2b <- rbind(res.st.2b, cbind(row.names(summary(mod)$coefficients),
round(summary(mod)$coefficients[, c(1, 2, 4)], 3),
v))
rm(mod)
}
names(res.st.1a) <- c("coef.n", "coef", "se", "p", "dv")
names(res.st.1b) <- c("coef.n", "coef", "se", "p", "dv")
names(res.st.2a) <- c("coef.n", "coef", "se", "p", "dv")
names(res.st.2b) <- c("coef.n", "coef", "se", "p", "dv")
### PLOT THE EFFECT OF THE "different.mode" DUMMY ACROSS SPECIFICATIONS
# Only in AT, CH, CZ, DE, HU, IT - Without controls
res.dm.1a <- res.st.1a[grep("different.mode", as.character(res.st.1a$coef.n)), c("coef", "se", "dv")]
res.dm.1a$dv <- gsub("wv_dif", "PQ18/YQ21", as.character(res.dm.1a$dv))
res.dm.1a$dv <- gsub("wa_dif", "PQ19/YQ22", as.character(res.dm.1a$dv))
res.dm.1a$coef <- as.numeric(as.character(res.dm.1a$coef))
res.dm.1a$se <- as.numeric(as.character(res.dm.1a$se))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_nocontrols.jpg", type = "jpg",
width = 7, height = 5, dpi = 500)
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw() +
theme(axis.text.x = element_text(family = "Times New Roman"),
axis.text.y = element_text(family = "Times New Roman"),
axis.title.x = element_text(family = "Times New Roman"),
axis.title.y = element_text(family = "Times New Roman"),
legend.text = element_text(family = "Times New Roman"),
legend.title = element_text(family = "Times New Roman"))
dev.off()
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw() #+
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_nocontrols.jpg", type = "jpg",
width = 7, height = 5, dpi = 500)
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw() #+
# theme(axis.text.x = element_text(family = "Times New Roman"),
#       axis.text.y = element_text(family = "Times New Roman"),
#       axis.title.x = element_text(family = "Times New Roman"),
#       axis.title.y = element_text(family = "Times New Roman"),
#       legend.text = element_text(family = "Times New Roman"),
#       legend.title = element_text(family = "Times New Roman"))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_nocontrols.jpg", type = "jpg",
width = 7, height = 5, dpi = 500)
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw() +
theme(axis.text.x = element_text(family = "Times New Roman"),
axis.text.y = element_text(family = "Times New Roman"),
axis.title.x = element_text(family = "Times New Roman"),
axis.title.y = element_text(family = "Times New Roman"),
legend.text = element_text(family = "Times New Roman"),
legend.title = element_text(family = "Times New Roman"))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_nocontrols.jpg", type = "jpg",
width = 5, height = 5, dpi = 500)
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw() +
theme(axis.text.x = element_text(family = "Times New Roman"),
axis.text.y = element_text(family = "Times New Roman"),
axis.title.x = element_text(family = "Times New Roman"),
axis.title.y = element_text(family = "Times New Roman"),
legend.text = element_text(family = "Times New Roman"),
legend.title = element_text(family = "Times New Roman"))
dev.off()
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_nocontrols.pdf", type = "pdf",
width = 7, height = 5)
ggplot(res.dm.1a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
ylab("Effect of Different Survey Mode (95% confidence interval)") +
xlab("Item") +
theme_bw()
dev.off()
res.dm.1b <- res.st.1b[grep("different.mode", as.character(res.st.1b$coef.n)), c("coef", "se", "dv")]
res.dm.1b$dv <- gsub("wv_dif", "PQ18/YQ21", as.character(res.dm.1b$dv))
res.dm.1b$dv <- gsub("wa_dif", "PQ19/YQ22", as.character(res.dm.1b$dv))
res.dm.1b$coef <- as.numeric(as.character(res.dm.1b$coef))
res.dm.1b$se <- as.numeric(as.character(res.dm.1b$se))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s1_controls.pdf", type = "pdf",
width = 7, height = 5, dpi = 300)
ggplot(res.dm.1b, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
#ylab("Effect of Different Survey Mode,\nonly AT, CH, CZ, DE, HU, IT\n(controlling for country dummies + socio-demographics)") +
#xlab("Difference Parent-Child") +
ylab("Effect of Different Survey Mode (95%)") + xlab("Item") +
theme_bw()
dev.off()
res.dm.2a <- res.st.2a[grep("different.mode", as.character(res.st.2a$coef.n)), c("coef", "se", "dv")]
res.dm.2a$dv <- gsub("wv_dif", "PQ18/YQ21", as.character(res.dm.2a$dv))
res.dm.2a$dv <- gsub("wa_dif", "PQ19/YQ22", as.character(res.dm.2a$dv))
res.dm.2a$coef <- as.numeric(as.character(res.dm.2a$coef))
res.dm.2a$se <- as.numeric(as.character(res.dm.2a$se))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s2_nocontrols.pdf", type = "pdf",
width = 7, height = 5, dpi = 300)
ggplot(res.dm.2a, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
# ylab("Effect of Different Survey Mode, all countries,\n(NOT controlling for country dummies)") +
# xlab("Difference Parent-Child") +
ylab("Effect of Different Survey Mode (95%)") + xlab("Item") +
theme_bw()
dev.off()
# All countries - With controls
res.dm.2b <- res.st.2b[grep("different.mode", as.character(res.st.2b$coef.n)), c("coef", "se", "dv")]
res.dm.2b$dv <- gsub("wv_dif", "PQ18/YQ21", as.character(res.dm.2b$dv))
res.dm.2b$dv <- gsub("wa_dif", "PQ19/YQ22", as.character(res.dm.2b$dv))
res.dm.2b$coef <- as.numeric(as.character(res.dm.2b$coef))
res.dm.2b$se <- as.numeric(as.character(res.dm.2b$se))
quartz(file = "~/Dropbox/CUPESSE_quali_book/figures/mode_eff/mode_s2_controls.pdf", type = "pdf",
width = 7, height = 5, dpi = 300)
ggplot(res.dm.2b, aes(x = dv, y = coef)) +
geom_hline(aes(yintercept = 0), lty = 2) +
geom_pointrange(aes(ymin = coef - 1.96*se, ymax = coef + 1.96*se)) +
coord_flip() +
# ylab("Effect of Different Survey Mode, all countries,\n(controlling f socio-demographics, NOT country dummies)") +
# xlab("Difference Parent-Child") +
ylab("Effect of Different Survey Mode (95%)") + xlab("Item") +
theme_bw()
dev.off()
?isolate
library(shiny)
?isolate
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
setwd("/Users/fede/GitHub/shinyapps/random_assignment")
library(shiny)
runApp()
